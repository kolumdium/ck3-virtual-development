# Threshold depends on game rule
vdev_overflow_threshold = {
    value = 100  # default for vdev_threshold_100

    if = { 
        limit = { has_game_rule = vdev_threshold_90 }
        value = 90
    }
    else_if = {
        limit = { has_game_rule = vdev_threshold_80 }
        value = 80
    }
    else_if = {
        limit = { has_game_rule = vdev_threshold_51 }
        value = 51
    }
}

vdev_overflow_chunk = {
    value = -10

    if = {
        limit = {
            has_game_rule = vdev_chunk_50
        }
        value = -50
    }
    else_if = {
        limit = {
            has_game_rule = vdev_chunk_25
        }
        value = -25
    }
    # else_if = { # default
    #     limit = {
    #         has_game_rule = vdev_chunk_threshold_10
    #     }
    #     value = 10
    # }
    else_if = {
        limit = {
            has_game_rule = vdev_chunk_1
        }
        value = -1
    }
}

vdev_ai_random = {
    value = 0
    if = {
        limit = {
            has_game_rule = vdev_ai_buff_random
        }
        value = 1
    }
}

vdev_new_slot_scaling_cost = {
    value = 25
    if = {
        limit = {
            has_game_rule = vdev_slot_scaling_0
        }
        value = 0
    }
    else_if = {
        limit = {
            has_game_rule = vdev_slot_scaling_12
        }
        value = 12
    }
    else_if = {
        limit = {
            has_game_rule = vdev_slot_scaling_50
        }
        value = 50
    }
    else = {
        value = 25
    }
}

vdev_modifier_scaling_value_normal = {
    value = var:vdev_county_normal
    min = 1
    desc = MODIFIER_DEFINITION_VALUE_PER_VIRTURAL_DEVELOPMENT_NORMAL_LEVEL
}

vdev_modifier_scaling_value_defensive = {
    value = var:vdev_county_defensive
    min = 1
    desc = MODIFIER_DEFINITION_VALUE_PER_VIRTURAL_DEVELOPMENT_DEFENSIVE_LEVEL
}

vdev_modifier_scaling_value_offensive = {
    value = county.var:vdev_county_offensive
    min = 1
    max = 100
    desc = MODIFIER_DEFINITION_VALUE_PER_VIRTURAL_DEVELOPMENT_OFFENSIVE_LEVEL
}

vdev_modifier_scaling_value_health = {
    value = var:vdev_county_health
    min = 1
    desc = MODIFIER_DEFINITION_VALUE_PER_VIRTURAL_DEVELOPMENT_HEALTH_LEVEL
}

vdev_modifier_scaling_value_infrastructure = {
    value = var:vdev_county_infrastructure
    min = 1
    max = 100
    desc = MODIFIER_DEFINITION_VALUE_PER_VIRTURAL_DEVELOPMENT_INFRASTRUCTURE_LEVEL
}

vdev_convert_vdev_gold_cost = 250
vdev_focus_change_gold_cost = 25
vdev_focus_change_gold_cost_all = 2000
vdev_building_slot_gold_cost = 2000
vdev_building_gold_cost = 1000

vdev_building_slot_vdev_cost = {
    value = var:vdev_extra_building_slots
    multiply = vdev_new_slot_scaling_cost
}